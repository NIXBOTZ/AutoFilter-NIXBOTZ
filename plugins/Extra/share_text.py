import os
from info import CHNL_LNK
from pyrogram import Client, filters
from urllib.parse import quote
from pyrogram.types import InlineKeyboardMarkup, InlineKeyboardButton

@Client.on_message(filters.command(["share_text", "share", "sharetext",]))
async def share_text(client, message):
    reply = message.reply_to_message
    reply_id = message.reply_to_message.id if message.reply_to_message else message.id
    input_split = message.text.split(None, 1)
    if len(input_split) == 2:
        input_text = input_split[1]
    elif reply and (reply.text or reply.caption):
        input_text = reply.text or reply.caption
    else:
        await message.reply_text(
            text=f"**Notice:**\n\n1. Reply Any Messages.\n2. No Media Support\n\n**Any Question Join Support Chat**",                
            reply_to_message_id=reply_id,               
            reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("á´œá´˜á´…á´€á´›á´‡s", url=CHNL_LNK)]])
            )                                                   
        return
    await message.reply_text(
        text=f"**Here is Your Sharing Text ğŸ‘‡**\n\nhttps://t.me/share/url?url=" + quote(input_text),
        reply_to_message_id=reply_id,
        reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("â™‚ï¸ Share", url=f"https://t.me/share/url?url={quote(input_text)}")]])       
    )

# á´„Ê€á´‡á´…Éªá´› - @NIXBOTZ
# á´˜ÊŸá´‡á´€sá´‡ á´…á´É´'á´› Ê€á´‡á´á´á´ á´‡ á´„Ê€á´‡á´…Éªá´›..
# Ò“á´Ê€ á´€É´Ê á´‡Ê€Ê€á´Ê€/á´…á´á´œÊ™á´› á´˜ÊŸá´‡á´€sá´‡ á´„á´É´á´›á´€á´„á´› á´á´‡ oÉ´ á´›á´‡ÊŸá´‡É¢Ê€á´€á´ - @IM_NISHANTT
#------------------------ ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘» -------------------------